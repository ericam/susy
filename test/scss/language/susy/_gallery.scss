// Gallery Syntax
// ==============

@include test-module('Gallery Syntax') {

  // gallery
  // -------

  @include output-test('gallery') {
    // sym
    @include assert-setup('sym', $grid: 6 .8) {
      .nest { @include clearfix; }
      .test, .expect { @include trailer(0); }
    }
    @include assert-output(
      'Items should create 3x symmetrical isolated gallery.'
    ) {
      .test { @include gallery(2); }
      .expect {
        width: 28.0%;
        float: left;
        margin-right: -100%;
        &:nth-child(3n + 1) {
          margin-left: 0;
          clear: left;
        }
        &:nth-child(3n + 2) {
          margin-left: 36%;
          clear: none;
        }
        &:nth-child(3n + 3) {
          margin-left: 72%;
          clear: none;
        }
      }
    }

    // inside
    @include assert-setup('inside', $grid: 6 .8 inside) {
      .nest { @include clearfix; }
      .test, .expect { @include trailer(0); }
    }
    @include assert-output(
      'Items should create 3x isolated gallery with inside-gutters.'
    ) {
      .test { @include gallery(2); }
      .expect {
        box-sizing: border-box;
        width: 33.33333%;
        float: left;
        margin-right: -100%;
        padding-left: 4%;
        padding-right: 4%;
        &:nth-child(3n + 1) {
          margin-left: 0;
          clear: left;
        }
        &:nth-child(3n + 2) {
          margin-left: 33.33333%;
          clear: none;
        }
        &:nth-child(3n + 3) {
          margin-left: 66.66667%;
          clear: none;
        }
      }
    }

    // inside-static
    @include assert-setup('inside-static', $grid: 100% 6 (5em 4em) inside-static) {
      .nest { @include clearfix; }
      .test, .expect { @include trailer(0); }
    }
    @include assert-output(
      'Items should create 3x isolated gallery with inside-static gutters.'
    ) {
      .test { @include gallery(2); }
      .expect {
        box-sizing: border-box;
        width: 33.33333%;
        float: left;
        margin-right: -100%;
        padding-left: 2em;
        padding-right: 2em;
        &:nth-child(3n + 1) {
          margin-left: 0;
          clear: left;
        }
        &:nth-child(3n + 2) {
          margin-left: 33.33333%;
          clear: none;
        }
        &:nth-child(3n + 3) {
          margin-left: 66.66667%;
          clear: none;
        }
      }
    }

    // asymmetrical
    @include assert-setup('asym', $grid: (1 2 1 2 2 1) 1/5) {
      .nest { @include clearfix; }
      .test, .expect { @include trailer(0); }
    }
    @include assert-output(
      'Items should create 3x isolated asymmetrical gallery.'
    ) {
      .test { @include gallery(2); }
      .expect {
        float: left;
        margin-right: -100%;
        &:nth-child(3n + 1) {
          width: 32%;
          margin-left: 0;
          clear: left;
        }
        &:nth-child(3n + 2) {
          width: 32%;
          margin-left: 34%;
          clear: none;
        }
        &:nth-child(3n + 3) {
          width: 32%;
          margin-left: 68%;
          clear: none;
        }
      }
    }

    // asymmetrical inside
    @include assert-setup('asym-inside', $grid: (1 2 1 2 2 1) 1/5 inside) {
      .nest { @include clearfix; }
      .test, .expect { @include trailer(0); }
    }
    @include assert-output(
      'Items should create 3x isolated asymmetrical gallery, with inside gutters.'
    ) {
      .test { @include gallery(2); }
      .expect {
        box-sizing: border-box;
        float: left;
        margin-right: -100%;
        padding-left: 1%;
        padding-right: 1%;
        &:nth-child(3n + 1) {
          width: 33.33333%;
          margin-left: 0;
          clear: left;
        }
        &:nth-child(3n + 2) {
          width: 33.33333%;
          margin-left: 33.33333%;
          clear: none;
        }
        &:nth-child(3n + 3) {
          width: 33.33333%;
          margin-left: 66.66667%;
          clear: none;
        }
      }
    }
  }

}
